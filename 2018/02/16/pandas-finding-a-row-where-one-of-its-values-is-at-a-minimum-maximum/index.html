<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta name="author" content="Preslav Rachev">
    <meta name="description" content="Often, we will want to get to get a specific row, which marks the minimum or maximum of one of its columns. Let&amp;rsquo;s suppose we have the SF Salaries dataset from Kaggle. We want to find the employee name, with the largest total pay benefits. The experience with writing NumPy/Pandas filter conditions will quickly let us produce the following version:
sal[sal[&#39;TotalPayBenefits&#39;] == sal[&#39;TotalPayBenefits&#39;].max()][&#39;EmployeeName&#39;]  which is absolutely valid, but is it the only option?" />
    <meta name="keywords" content="programming, golang, python, elixir, Python, Pandas" />
    <meta name="robots" content="noodp" />
    <meta name="theme-color" content="" />
    <link rel="canonical" href="https://preslav.me/2018/02/16/pandas-finding-a-row-where-one-of-its-values-is-at-a-minimum-maximum/" />

    
    
    <title>Pandas: Finding a Row Where One of Its Values Is at a Minimum/Maximum ¬∑ Random Bits of Wisdom</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    
    
    <link rel="stylesheet" href="https://preslav.me/style.main.min.f84d6c0bd7277a0da9d1f4e0e893918c0b07491e54e74d802499c473ec868f38.css" />
    <link rel="stylesheet" href="https://preslav.me/site.min.af179bcb4919068a7c5f6ed21056ad75fc124f28175c73b7cda6a453e488853e.css" />

    

    <meta itemprop="name" content="Pandas: Finding a Row Where One of Its Values Is at a Minimum/Maximum">
<meta itemprop="description" content="Often, we will want to get to get a specific row, which marks the minimum or maximum of one of its columns. Let&rsquo;s suppose we have the SF Salaries dataset from Kaggle. We want to find the employee name, with the largest total pay benefits. The experience with writing NumPy/Pandas filter conditions will quickly let us produce the following version:
sal[sal[&#39;TotalPayBenefits&#39;] == sal[&#39;TotalPayBenefits&#39;].max()][&#39;EmployeeName&#39;]  which is absolutely valid, but is it the only option?">


<meta itemprop="datePublished" content="2018-02-16T06:58:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-02-16T06:58:00&#43;00:00" />
<meta itemprop="wordCount" content="222">



<meta itemprop="keywords" content="Python,Pandas," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Pandas: Finding a Row Where One of Its Values Is at a Minimum/Maximum"/>
<meta name="twitter:description" content="Often, we will want to get to get a specific row, which marks the minimum or maximum of one of its columns. Let&rsquo;s suppose we have the SF Salaries dataset from Kaggle. We want to find the employee name, with the largest total pay benefits. The experience with writing NumPy/Pandas filter conditions will quickly let us produce the following version:
sal[sal[&#39;TotalPayBenefits&#39;] == sal[&#39;TotalPayBenefits&#39;].max()][&#39;EmployeeName&#39;]  which is absolutely valid, but is it the only option?"/>

    <meta property="og:title" content="Pandas: Finding a Row Where One of Its Values Is at a Minimum/Maximum" />
<meta property="og:description" content="Often, we will want to get to get a specific row, which marks the minimum or maximum of one of its columns. Let&rsquo;s suppose we have the SF Salaries dataset from Kaggle. We want to find the employee name, with the largest total pay benefits. The experience with writing NumPy/Pandas filter conditions will quickly let us produce the following version:
sal[sal[&#39;TotalPayBenefits&#39;] == sal[&#39;TotalPayBenefits&#39;].max()][&#39;EmployeeName&#39;]  which is absolutely valid, but is it the only option?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://preslav.me/2018/02/16/pandas-finding-a-row-where-one-of-its-values-is-at-a-minimum-maximum/" />
<meta property="article:published_time" content="2018-02-16T06:58:00+00:00" />
<meta property="article:modified_time" content="2018-02-16T06:58:00+00:00" />

    
    
        
        
    
    
    <meta name="twitter:image" content="/images/avatar.jpg">
    <meta property="og:image" content="/images/avatar.jpg">
    

    
    
    

    </head>
<body class=" post-template ">

    <div class="site-wrapper">

<header class="site-header"><div class="outer site-nav-main">
    <div class="inner"><nav class="site-nav">
    <div class="site-nav-left">
        
            <a class="site-nav-logo" href="https://preslav.me">Random Bits of Wisdom</a>
        
        
        <div class="site-nav-content">
            <ul class="nav" role="menu">
                
                <li class="nav-home" role="menuitem"><a href="/about/">About Me</a></li>
                
                <li class="nav-home" role="menuitem"><a href="/projects/">Projects</a></li>
                
                <li class="nav-home" role="menuitem"><a href="/privacy/">Privacy</a></li>
                
                <li class="nav-home" role="menuitem"><a href="/contact/">Contact</a></li>
                
            </ul>
        </div>
        
    </div>
</nav>

</div>
</div></header>

<main id="site-main" class="site-main outer">
    <div class="inner">

        <article
            class="post-full post  no-image ">

            <header class="post-full-header">

                
                
                <section class="post-full-tags">
                    <a
                        href="/tags/python">Python</a>
                </section>
                

                <h1 class="post-full-title">Pandas: Finding a Row Where One of Its Values Is at a Minimum/Maximum</h1>

                

                <div class="post-full-byline">
                    <section class="post-full-byline-content">

                        <ul class="author-list">
    <li class="author-list-item">
        <div class="author-card">
            <div class="author-profile-image"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg></div>
            <div class="author-info">
                <div class="author-info">
                    <h2>Preslav Rachev</h2>
                </div>
            </div>
        </div>
        <a href="#" class="author-avatar author-profile-image"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg></a>
    </li>
</ul>

                        <section class="post-full-byline-meta">
                            
                            <h4 class="author-name">Preslav Rachev</h4>
                            
                            <div class="byline-meta-content">
                                <time class="byline-meta-date"
                                    datetime="2018-62-02">16 February 2018</time>
                                <span class="byline-reading-time"><span
                                        class="bull">&bull;</span>
                                    2 min read</span>
                            </div>
                        </section>

                    </section>


                </div>
            </header>

            

            <section class="post-full-content">
                <div class="post-content">
                    <p>Often, we will want to get to get a specific row, which marks the minimum or maximum of one of its columns. Let&rsquo;s suppose we have the <a href="https://www.kaggle.com/kaggle/sf-salaries">SF Salaries dataset from Kaggle</a>. We want to find the employee name, with the largest total pay benefits. The experience with writing NumPy/Pandas filter conditions will quickly let us produce the following version:</p>

<pre><code class="language-python">sal[sal['TotalPayBenefits'] == sal['TotalPayBenefits'].max()]['EmployeeName']
</code></pre>

<p>which is absolutely valid, but is it the only option? I could imagine that that in a large dataset, there would be quite a lot of comparison involved, plus the creation of a whole new data series (the filter condition). Is there perhaps a more performant one? How about trying out <a href="http://pandas.pydata.org/pandas-docs/version/0.17.0/generated/pandas.DataFrame.idxmax.html">idmax()</a> (or, for those coming from NumPy, <a href="http://pandas.pydata.org/pandas-docs/version/0.17.0/generated/pandas.DataFrame.argmax.html">argmax()</a>, both do the same). By given a column, the function will return the index of the data frame, where it is at its highest.</p>

<pre><code class="language-python">sal.loc[sal['TotalPayBenefits'].idxmax()]['EmployeeName']

sal.loc[sal['TotalPayBenefits'].argmax()]['EmployeeName']
</code></pre>

<p>I did a quick performance check, and indeed, idmax/argmax turn out twice as fast:</p>

<pre><code class="language-bash"># the original filter condition
815 ¬µs ¬± 11.5 ¬µs per loop (mean ¬± std. dev. of 7 runs, 1000 loops each)

# idmax()
402 ¬µs ¬± 7.61 ¬µs per loop (mean ¬± std. dev. of 7 runs, 1000 loops each)

# argmax
404 ¬µs ¬± 8.81 ¬µs per loop (mean ¬± std. dev. of 7 runs, 1000 loops each)
</code></pre>

                </div>
            </section>

        </article>
        <div id="graphcomment"></div>
        <script type="text/plain" cookie-consent="tracking">
        
          /* - - - CONFIGURATION VARIABLES - - - */
        
          // make sure the id is yours
          window.gc_params = {
            graphcomment_id: 'preslav-me',
        
            // if your website has a fixed header, indicate it's height in pixels
            fixed_header_height: 0,
          };
        
          /* - - - DON'T EDIT BELOW THIS LINE - - - */
        
          
          (function() {
            var gc = document.createElement('script'); gc.type = 'text/javascript'; gc.async = true;
            gc.src = 'https://graphcomment.com/js/integration.js?' + Math.round(Math.random() * 1e8);
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(gc);
          })();
        
        </script>
        </div>
    </div>
</main>
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
    
    <article class="read-next-card">
        <header class="read-next-card-header">
            <h3><span>More in</span> <a href="/tags/python">Python</a></h3>
        </header>
        <div class="read-next-card-content">
            <ul>
                
            </ul>
        </div>
    </article>


    
    
        
    


<article class="post-card post


 ">

        
            <a class="post-card-image-link" href="https://preslav.me/2018/01/06/quote-plastic-synapses/">
                <img class="post-card-image"src="https://cdn.arstechnica.net/wp-content/uploads/2017/03/synapse-760x380.jpg" alt="[QUOTE]: Plastic Synapses Offer Hardware Alternative to Neural Networks"/>
            </a>
        
    
        <div class="post-card-content">
            
    
            <a class="post-card-content-link" href="https://preslav.me/2018/01/06/quote-plastic-synapses/">
    
                <header class="post-card-header">
                    
                        
                        <div class="post-card-primary-tag">Quote</div>
                    

                    <h2 class="post-card-title">[QUOTE]: Plastic Synapses Offer Hardware Alternative to Neural Networks</h2>
                </header>
    
                <section class="post-card-excerpt">
                    <p>via Plastic synapses offer hardware alternative to neural networks |¬†ArsTechnica
 A synapse‚Äîthe connection between two neurons‚Äîconsumes at most 100 femtoJoules per event. Once you realize that the entire human body is about the equivalent of an 120W light bulb, you can see that the efficiency of the brain is just astounding. [&hellip;] This result has implications. If this research does turn out to be the way forward, neural networks will not operate faster than our own brains.</p>
                </section>
    
            </a>

            <footer class="post-card-meta">
                    <div class="post-card-byline-content">
                        <span class="post-card-byline-date"><time datetime="2018-11-01">6 January 2018</time>
                            <span class="bull">&bull;</span> 1 min read</span>
                    </div>
                </footer>
    
        </div>

</article>
    

            

    
    
        
    


<article class="post-card post


 ">

        
            <a class="post-card-image-link" href="https://preslav.me/2018/04/02/how-to-use-twitter-more-efficiently-with-these-hidden-search-features/">
                <img class="post-card-image"src="https://www.labnol.org/files/twitter.png" alt="How to Use Twitter More Efficiently with These Hidden Search Features"/>
            </a>
        
    
        <div class="post-card-content">
            
    
            <a class="post-card-content-link" href="https://preslav.me/2018/04/02/how-to-use-twitter-more-efficiently-with-these-hidden-search-features/">
    
                <header class="post-card-header">
                    
                        
                        <div class="post-card-primary-tag">Social Media</div>
                    

                    <h2 class="post-card-title">How to Use Twitter More Efficiently with These Hidden Search Features</h2>
                </header>
    
                <section class="post-card-excerpt">
                    <p>Twitter can be a mess sometimes. If you follow tons of people, it‚Äôs easy to get lost in the torrent of constant updates. This was one of the reasons why Twitter decided to move away from the purely chronological timeline a couple of years ago. In a move that almost ditched the diehard Twitter fans in favor of the mainstream, predominantly passive content consumers, the company started pushing more and more in favour of algorithmically adjusted timelines, much like Facebook does it.</p>
                </section>
    
            </a>

            <footer class="post-card-meta">
                    <div class="post-card-byline-content">
                        <span class="post-card-byline-date"><time datetime="2018-44-04">2 April 2018</time>
                            <span class="bull">&bull;</span> 6 min read</span>
                    </div>
                </footer>
    
        </div>

</article>
    
        </div>
    </div>
</aside>


        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://preslav.me">Random Bits of Wisdom</a> &copy; 2018</section>
                <nav class="site-footer-nav">
                    <a href="https://preslav.me">Latest Posts</a>
                    
                    <a href="https://twitter.com/preslavrachev" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://github.com/preslavrachev" target="_blank" rel="noopener">Github</a>
                    <a href="https://jonathanjanssens.com" target="_blank" rel="noopener" style="opacity: 0.5;">Hugo Casper3 by Jonathan Janssens</a>
                </nav>
            </div>
        </footer>

    </div>

    



<script type="text/javascript" src="/bundle.min.d050a0c3d6a040d6e4f2df0e396650b42a388cecdff4a0a49016fc6feeeceaa1ef57ea994d68bd39794dea102bae81bdb5a7682bfbd0d12751b0b4e0f3ace050.js"
  integrity="sha512-0FCgw9agQNbk8t8OOWZQtCo4jOzf9KCkkBb8b&#43;7s6qHvV&#43;qZTWi9OXlN6hArroG9tadoK/vQ0SdRsLTg86zgUA=="></script>



<script type="text/plain" cookie-consent="tracking">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-131031623-1', 'auto');
            ga('send', 'pageview');
        </script>


<script type="text/plain" cookie-consent="targeting">
    /* Hotjar Tracking Code for https://preslav.me */
(function (h, o, t, j, a, r) {
    h.hj =
      h.hj ||
      function () {
        (h.hj.q = h.hj.q || []).push(arguments);
      };
    h._hjSettings = { hjid: 1770517, hjsv: 6 };
    a = o.getElementsByTagName("head")[0];
    r = o.createElement("script");
    r.async = 1;
    r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
    a.appendChild(r);
  })(window, document, "https://static.hotjar.com/c/hotjar-", ".js?sv=");
</script>

<script async type="text/plain" cookie-consent="functionality"
  src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<noscript><a href="https://www.FreePrivacyPolicy.com/cookie-consent/">Cookie
    Consent by Free Privacy Policy Generator</a></noscript>



<script type="text/plain" cookie-consent="targeting">
  window.intergramId = "371953850";
  window.intergramCustomizations = {
    titleClosed: 'Howdy! üëãüèº',
    titleOpen: 'Nice to meet you!',
    introMessage: 'Nice to see you here. What do you think about my blog?',
    autoResponse: "Got it! I'll try to get back to you in a sec. You might as well leave a contact (Email, Telegram, Twitter, etc) and I will get back to you.",
    autoNoResponse: "Looks like I'm a bit busy right now. Would you mind leaving some contact here (Email, Telegram, Twitter, etc) and I will get back to you.",
    mainColor: "#26a8ed", // Can be any css supported color 'red', 'rgb(255,87,34)', etc
    alwaysUseFloatingButton: false // Use the mobile floating button also on large screens
  };
</script>
<style>
  #intergramRoot {
    display: none
  }
</style>
<script id="intergram" type="text/plain" cookie-consent="targeting"
  src="https://www.intergram.xyz/js/widget.js"></script>

<script type="text/plain" cookie-consent="targeting">
  (function () {
    scroll_count = 0;
    function handler() {
      if (scroll_count === 200) {
        document.removeEventListener('scroll', handler);
        document.getElementById("intergramRoot").style.display = "block";
        goatcounter.count({path: "chat_visible", title: "User has seen the chat button", "event": true});
      } else {
        scroll_count += 1;
      }
    }
    document.addEventListener('scroll', handler)
  })();
</script>

<script data-goatcounter="https://preslav-me.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
</body>

</html>
{{/*
  Use Hugo's native Table of contents feature. You must set `toc: true` in your parameters for this to show.
  https://gohugo.io/content-management/toc/
*/}}

{{- if .Params.toc -}}
  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">{{ i18n "whatsInThis" . }}</p>
      {{ .TableOfContents }}
  </div>
{{- end -}}

{{/*
  Use Hugo's native related content feature to pull in content that may have similar parameters, like tags. etc.
  https://gohugo.io/content-management/related/
*/}}



{{ with .Site.Author }}
<article class="center bg-white br3 pa2 pa3-ns mv3">
  <div class="tc">
    <img src="/images/avatar.jpg" class="br-100 h3 w3 dib" title="Photo of a kitty staring at you">
    <h1 class="f4">{{ .name }}</h1>
    <hr class="mw4 b--black-10">
  </div>
  <p class="lh-copy measure center f6 black-70">{{ .description }}</p>
  {{ partial "buy-me-a-coffee" . }}
</article>
{{ end }}

<div class="mb3 pa3">
    <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CE7D453E&placement=preslavme" id="_carbonads_js"></script>
</div>

{{- if .Param "show_related" -}}
  {{ $related := .Site.RegularPages.Related . | first 5 }}
  {{ with $related }}
    <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
      <p class="f5 b mb3">{{ i18n "related" }}</p>
      <ul class="pa0 list f6">
      {{ range . }}
        <li  class="mb2">
            <a href="{{ .RelPermalink }}">
              {{if .Title}}
                {{- .Title -}}
              {{ else }}
                {{- .Date.Format " 2 Jan, 2006" -}}
              {{ end }}
            </a>
          </li>
        {{ end }}
      </ul>
  </div>
  {{ end }}
{{- end -}}
